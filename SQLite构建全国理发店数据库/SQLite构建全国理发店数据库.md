# SQLite构建全国理发店数据库
## 内容
数据库包含全国大陆地区行政省市区县与直辖市，省直辖县市以及每个细分地区的人口数量，上级行政单位的总人口。

## 备注 
* 数据来源于全国第六次人口普查，因为刚开始做数据纳入的时候，从上海开始，想着崇明已经变区了，但是六普数据还是县，就把崇明纳入了区范围，至于后边的省份，因为不熟悉县区变动，就没有做改变。

* CityProperDistrict包含区、直辖县市、特别区等，好像还有神农架林区，暂时还没改掉

* CityProperCounty包含县、旗、还有一些荒无人烟的小岛TT

* 如果换成其它领域的话，只需要将Baber的表进行替换，然后BaberTotal换成需要的行业。

## 过程记录
* 在做各市县区总人口统计的时候，因为数据比较庞杂，开始自己用sql语句获取单个市的区总人口，发现效率实在是太低了，然后采用了Group by 来对进行每个城市进行分类。县也同样。
```
SELECT sum(DistrictPopulation) 
  FROM CityProperDistrict
group by CityNumber

```


* 在各市县区总人口中，因为有的市是没有县或者区的，但是上一步获取的数据是直接成表没有区分哪些是不包含在内的，在这里就用到了NOT IN取了差集。
```
SELECT CityNumber 
  FROM CityDistribution
WHERE CityNumber NOT IN (
SELECT CityNumber 
  FROM CityProperDistrict
)

```


## 感想

正确运用工具真的太重要了，如果纯手工的话估计几个月也完成不了，而且过程中也避免不了出错，不过我想应该还会有更迅速的方法能够实现它。

以后应该多进行记录上传，上学的时候，每个学期末都会有很多课程设计，如果我把它上传到GitHub现在来查找应该很方便，数据丢失真的太痛苦了。

主要是，我记得有一个课设，我做的前端特别漂亮，然后老师给了全班最高分，然后现在回想起来，如果能看见作品，应该会有更强的代入感。